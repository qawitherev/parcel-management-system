@let units = unitsList$ | async;

<table class="table-auto w-full border-collapse bg-white">
  <thead>
    <tr class="bg-gray-200 text-gray-700 uppercase text-sm leading-normal">
      <th class="px-6 py-3 text-left">#</th>
      <th class="px-6 py-3 text-left">Unit Name</th>
      <th class="px-6 py-3 text-left">Created By</th>
      <th class="px-6 py-3 text-left">Created At</th>
      <th class="px-6 py-3 text-left">Updated By</th>
      <th class="px-6 py-3 text-left">Updated At</th>
    </tr>
  </thead>
  <tbody>
    @if (units && 'error' in units) {
    <div
      class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"
      role="alert"
    >
      <strong class="font-bold">Error occurred:</strong>
      <span class="block sm:inline">{{ units.message }}</span>
    </div>
    } @else { @if (units && 'residentUnits' in units) { @for (unit of units.residentUnits; track
    $index) {
    <tr class="border-b hover:bg-gray-100 text-gray-600 text-sm">
      <td class="px-6 py-4">{{ $index + 1 }}</td>
      <td class="px-6 py-4">{{ unit.unitName }}</td>
      <td class="px-6 py-4">{{ unit.createdBy }}</td>
      <td class="px-6 py-4">{{ unit.createdAt }}</td>
      <td class="px-6 py-4">{{ unit.updatedBy }}</td>
      <td class="px-6 py-4">{{ unit.updatedAt }}</td>
    </tr>
    } } }
  </tbody>
</table>
<div class="mb-4"></div>
@if (units && 'residentUnits' in units && units.count >0) {
<app-pagination
  [count]="units.count"
  [inCurrentPage]="paginationCurrentPage"
  [inPageSize]="paginationPageSize"
  (paginationDataEmitter)="onPaginationChanged($event)"
>
</app-pagination>
}
