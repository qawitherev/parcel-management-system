@let lockerDetails = lockerDetails$ | async;
@let createUpdateRes = createUpdateRes$ | async;

<div class="min-h-screen p-6">
  <h1 class="text-2xl font-semibold text-gray-800 mb-6">{{lockerId ? 'Edit Locker' : 'Add Locker'}}</h1>
  <form [formGroup]="formGroup" (ngSubmit)="onCreateOrUpdate()" class="space-y-4">
    <div>
      <label for="unitName" class="block text-sm font-medium text-gray-700 mb-2">Locker Name</label>
      <input
        formControlName="lockerName"
        type="text"
        id="lockerName"
        name="lockerName"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-gray-400"
        placeholder="Enter locker name"
      />
      @if (lockerDetails && 'error' in lockerDetails) {
        <div class="mt-2 p-4 bg-red-100 border border-red-400 text-red-700 rounded">
            <p>{{ lockerDetails.message }}</p>
        </div>
      }
      @if (createUpdateRes && 'error' in createUpdateRes) {
        <div class="mt-2 p-4 bg-red-100 border border-red-400 text-red-700 rounded">
            <p>{{ createUpdateRes.message }}</p>
        </div>
      }
    </div>
    <div class="flex justify-end">
      <button
        type="button"
        class="px-6 py-2 bg-gray-500 text-white font-medium rounded-lg shadow-md hover:bg-white hover:text-gray-500 hover:border hover:border-gray-500 transition duration-300"
        (click)="onBack()"
      >
        Back
      </button>
      <button
        type="submit"
        [ngClass]="{ 'opacity-50 cursor-not-allowed': !formGroup.valid }"
        [disabled]="!formGroup.valid"
        class="ml-4 px-6 py-2 bg-gray-500 text-white font-medium rounded-lg shadow-md hover:bg-white hover:text-gray-500 hover:border hover:border-gray-500 transition duration-300"
      >
        {{lockerId ? 'Update Locker' : 'Add Locker'}}
      </button>
    </div>
  </form>
</div>
